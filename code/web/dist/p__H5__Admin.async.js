(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"/v11":function(e,a,t){"use strict";t.r(a);t("g9YV");var n,i,r=t("wCAj"),s=(t("14J3"),t("BMrR")),c=(t("jCWc"),t("kPKH")),l=(t("+L6B"),t("2/Rp")),o=(t("2qtc"),t("kLXV")),p=(t("OaEy"),t("2fM7")),d=(t("y8nQ"),t("Vl3Y")),u=(t("5NDa"),t("5rEg")),m=(t("sPJy"),t("bE4q")),h=(t("BoS7"),t("Sdc0")),f=t("p0pE"),g=t.n(f),E=t("2Taf"),v=t.n(E),_=t("vZ4D"),y=t.n(_),C=t("l4Ni"),k=t.n(C),b=t("ujKo"),w=t.n(b),S=t("MhPg"),I=t.n(S),x=t("q1tI"),L=t.n(x),F=t("MuoO"),O=t("KHju"),U=t("wY1l"),M=t.n(U);function j(e,a,t){return a=w()(a),k()(e,T()?Reflect.construct(a,t||[],w()(e).constructor):a.apply(e,t))}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}var q=(n=Object(F["connect"])(function(e){var a=e.api,t=e.loading;return{api:a,_loading:t.effects["api/getUserList"]}}),n(i=function(e){function a(){var e;v()(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=j(this,a,[].concat(n)),e.state={params:{page:1,page_rows:10,search:""},data:{},visible:!1},e.handleTableChange=function(a){e.setState({params:g()({},e.state.params,{page:a.current,page_rows:a.pageSize})},function(){e.fetch(e.state.params)})},e.showEditModel=function(a,t,n){e.setState({visible:!0,data:{id:a,appid:t,is_super_admin:n}},function(){})},e.onEditFormFieldChange=function(a){if(1==a||0==a)e.setState({data:g()({},e.state.data,{is_super_admin:a})});else switch(a.target.name){case"appid":e.setState({data:g()({},e.state.data,{appid:a.target.value})});break;case"appsecret":e.setState({data:g()({},e.state.data,{appsecret:a.target.value})});break}},e.onSwithChange=function(a,t){var n=e.props.dispatch;n({type:"api/editUser",payload:{id:t,is_use:a}}).then(function(){e.setState({params:g()({},e.state.params,{page:1})},function(){e.fetch(e.state.params)})})},e}return I()(a,e),y()(a,[{key:"componentDidMount",value:function(){this.fetch(this.state.params)}},{key:"fetch",value:function(e){var a=this.props.dispatch;a({type:"api/getUserList",payload:e})}},{key:"render",value:function(){var e=this,a=[{title:"Id",dataIndex:"id",key:"id"},{title:"appid",dataIndex:"appid",key:"appid"},{title:"\u7528\u6237\u7c7b\u578b",dataIndex:"is_super_admin",key:"is_super_admin",render:function(e,a){return L.a.createElement("div",null,"1"===a.is_super_admin?"\u8d85\u7ea7\u7ba1\u7406\u5458":"\u666e\u901a\u7528\u6237")}},{title:"\u72b6\u6001",dataIndex:"is_use",key:"is_use",render:function(a,t){return L.a.createElement("div",null,L.a.createElement(h["a"],{checkedChildren:"\u542f\u7528",unCheckedChildren:"\u7981\u7528",onChange:function(a){e.onSwithChange(a?1:0,t.id)},defaultChecked:"1"===t.is_use}))}},{title:"\u521b\u5efa\u4eba",dataIndex:"creator_appid",key:"creator_appid"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",key:"create_time"},{title:"\u64cd\u4f5c",key:"action",render:function(a,t){return L.a.createElement("span",null,L.a.createElement("a",{onClick:function(){e.showEditModel(t.id,t.appid,t.is_super_admin)}},"\u7f16\u8f91"))}}],t=this.props,n=t._loading,i=t.api,f={current:i.getUserList.page,total:i.getUserList.total,pageSize:this.state.params.page_rows,showTotal:function(e,a){return"\u603b\u5171 ".concat(e," \u6761\u6570\u636e")}};return L.a.createElement("div",null,L.a.createElement(m["a"],null,L.a.createElement(m["a"].Item,null,L.a.createElement(M.a,{to:"/"},"\u9996\u9875")),L.a.createElement(m["a"].Item,null,L.a.createElement(M.a,{to:"/admin"},"\u7528\u6237\u7ba1\u7406"))),L.a.createElement("div",{style:{backgroundColor:"white",padding:"10px 20px",marginTop:20}},L.a.createElement(o["a"],{title:this.state.data.id?"\u7f16\u8f91\u7528\u6237":"\u65b0\u589e\u7528\u6237",visible:this.state.visible,onOk:function(){var a=e.state.data.id?"/api/editUser":"/api/addUser";e.setState({confirmLoading:!0}),Object(O["a"])(a,e.state.data).then(function(a){e.setState({confirmLoading:!1}),200===a.code&&e.setState({params:g()({},e.state.params,{page:1}),visible:!1},function(){e.fetch(e.state.params)})})},confirmLoading:this.state.confirmLoading||!1,okText:"\u4fdd\u5b58",onCancel:function(){e.setState({visible:!1,confirmLoading:!1})}},L.a.createElement(d["a"],{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},L.a.createElement(d["a"].Item,{required:!0,label:"appid"},L.a.createElement(u["a"],{onInput:this.onEditFormFieldChange,name:"appid",disabled:!!this.state.data.id,value:this.state.data.appid,placeholder:"\u8bf7\u8f93\u5165appid"})),L.a.createElement(d["a"].Item,{label:"appsecret"},L.a.createElement(u["a"],{onInput:this.onEditFormFieldChange,name:"appsecret",value:this.state.data.appsecret,placeholder:"\u8bf7\u8f93\u5165appsecret"})),L.a.createElement(d["a"].Item,{required:!0,label:"\u7528\u6237\u7c7b\u578b"},L.a.createElement(p["a"],{value:this.state.data.is_super_admin+"",onChange:this.onEditFormFieldChange},L.a.createElement(p["a"].Option,{value:"0"},"\u666e\u901a\u7528\u6237"),L.a.createElement(p["a"].Option,{value:"1"},"\u8d85\u7ea7\u7ba1\u7406\u5458"))))),L.a.createElement("div",{style:{padding:"20px 0"}},L.a.createElement(s["a"],null,L.a.createElement(c["a"],{span:8},L.a.createElement(l["a"],{type:"primary",onClick:function(){e.setState({visible:!0,data:{is_super_admin:"0"}})}},"\u65b0\u589e")),L.a.createElement(c["a"],{span:8,offset:8},L.a.createElement(u["a"].Search,{placeholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5173\u952e\u5b57",allowClear:!0,onSearch:function(a){e.setState({params:g()({},e.state.params,{search:a})},function(){e.fetch(e.state.params)})}})))),L.a.createElement(r["a"],{dataSource:i.getUserList.list,rowKey:function(e){return e.id},pagination:f,columns:a,loading:n,onChange:this.handleTableChange})))}}])}(x["Component"]))||i);a["default"]=q}}]);