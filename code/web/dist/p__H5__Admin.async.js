(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"/v11":function(e,t,a){"use strict";a.r(t);a("g9YV");var n,i,r=a("wCAj"),s=(a("14J3"),a("BMrR")),c=(a("jCWc"),a("kPKH")),l=(a("+L6B"),a("2/Rp")),o=(a("2qtc"),a("kLXV")),p=(a("OaEy"),a("2fM7")),d=(a("y8nQ"),a("Vl3Y")),u=(a("5NDa"),a("5rEg")),m=(a("sPJy"),a("bE4q")),h=(a("BoS7"),a("Sdc0")),f=a("p0pE"),g=a.n(f),E=a("2Taf"),v=a.n(E),y=a("vZ4D"),_=a.n(y),C=a("MhPg"),k=a.n(C),b=a("l4Ni"),w=a.n(b),S=a("ujKo"),I=a.n(S),x=a("q1tI"),L=a.n(x),F=a("MuoO"),O=a("KHju"),U=a("wY1l"),M=a.n(U);function R(e){var t=j();return function(){var a,n=I()(e);if(t){var i=I()(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return w()(this,a)}}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var T=(n=Object(F["connect"])(function(e){var t=e.api,a=e.loading;return{api:t,_loading:a.effects["api/getUserList"]}}),n(i=function(e){k()(a,e);var t=R(a);function a(){var e;v()(this,a);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),e.state={params:{page:1,page_rows:10,search:""},data:{},visible:!1},e.handleTableChange=function(t){e.setState({params:g()({},e.state.params,{page:t.current,page_rows:t.pageSize})},function(){e.fetch(e.state.params)})},e.showEditModel=function(t,a,n){e.setState({visible:!0,data:{id:t,appid:a,is_super_admin:n}},function(){})},e.onEditFormFieldChange=function(t){if(1==t||0==t)e.setState({data:g()({},e.state.data,{is_super_admin:t})});else switch(t.target.name){case"appid":e.setState({data:g()({},e.state.data,{appid:t.target.value})});break;case"appsecret":e.setState({data:g()({},e.state.data,{appsecret:t.target.value})});break}},e.onSwithChange=function(t,a){var n=e.props.dispatch;n({type:"api/editUser",payload:{id:a,is_use:t}}).then(function(){e.setState({params:g()({},e.state.params,{page:1})},function(){e.fetch(e.state.params)})})},e}return _()(a,[{key:"componentDidMount",value:function(){this.fetch(this.state.params)}},{key:"fetch",value:function(e){var t=this.props.dispatch;t({type:"api/getUserList",payload:e})}},{key:"render",value:function(){var e=this,t=[{title:"Id",dataIndex:"id",key:"id"},{title:"appid",dataIndex:"appid",key:"appid"},{title:"\u7528\u6237\u7c7b\u578b",dataIndex:"is_super_admin",key:"is_super_admin",render:function(e,t){return L.a.createElement("div",null,"1"===t.is_super_admin?"\u8d85\u7ea7\u7ba1\u7406\u5458":"\u666e\u901a\u7528\u6237")}},{title:"\u72b6\u6001",dataIndex:"is_use",key:"is_use",render:function(t,a){return L.a.createElement("div",null,L.a.createElement(h["a"],{checkedChildren:"\u542f\u7528",unCheckedChildren:"\u7981\u7528",onChange:function(t){e.onSwithChange(t?1:0,a.id)},defaultChecked:"1"===a.is_use}))}},{title:"\u521b\u5efa\u4eba",dataIndex:"creator_appid",key:"creator_appid"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"create_time",key:"create_time"},{title:"\u64cd\u4f5c",key:"action",render:function(t,a){return L.a.createElement("span",null,L.a.createElement("a",{onClick:function(){e.showEditModel(a.id,a.appid,a.is_super_admin)}},"\u7f16\u8f91"))}}],a=this.props,n=a._loading,i=a.api,f={current:i.getUserList.page,total:i.getUserList.total,pageSize:this.state.params.page_rows,showTotal:function(e,t){return"\u603b\u5171 ".concat(e," \u6761\u6570\u636e")}};return L.a.createElement("div",null,L.a.createElement(m["a"],null,L.a.createElement(m["a"].Item,null,L.a.createElement(M.a,{to:"/"},"\u9996\u9875")),L.a.createElement(m["a"].Item,null,L.a.createElement(M.a,{to:"/admin"},"\u7528\u6237\u7ba1\u7406"))),L.a.createElement("div",{style:{backgroundColor:"white",padding:"10px 20px",marginTop:20}},L.a.createElement(o["a"],{title:this.state.data.id?"\u7f16\u8f91\u7528\u6237":"\u65b0\u589e\u7528\u6237",visible:this.state.visible,onOk:function(){var t=e.state.data.id?"/api/editUser":"/api/addUser";e.setState({confirmLoading:!0}),Object(O["a"])(t,e.state.data).then(function(t){e.setState({confirmLoading:!1}),200===t.code&&e.setState({params:g()({},e.state.params,{page:1}),visible:!1},function(){e.fetch(e.state.params)})})},confirmLoading:this.state.confirmLoading||!1,okText:"\u4fdd\u5b58",onCancel:function(){e.setState({visible:!1,confirmLoading:!1})}},L.a.createElement(d["a"],{labelCol:{xs:{span:24},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}},L.a.createElement(d["a"].Item,{required:!0,label:"appid"},L.a.createElement(u["a"],{onInput:this.onEditFormFieldChange,name:"appid",disabled:!!this.state.data.id,value:this.state.data.appid,placeholder:"\u8bf7\u8f93\u5165appid"})),L.a.createElement(d["a"].Item,{label:"appsecret"},L.a.createElement(u["a"],{onInput:this.onEditFormFieldChange,name:"appsecret",value:this.state.data.appsecret,placeholder:"\u8bf7\u8f93\u5165appsecret"})),L.a.createElement(d["a"].Item,{required:!0,label:"\u7528\u6237\u7c7b\u578b"},L.a.createElement(p["a"],{value:this.state.data.is_super_admin+"",onChange:this.onEditFormFieldChange},L.a.createElement(p["a"].Option,{value:"0"},"\u666e\u901a\u7528\u6237"),L.a.createElement(p["a"].Option,{value:"1"},"\u8d85\u7ea7\u7ba1\u7406\u5458"))))),L.a.createElement("div",{style:{padding:"20px 0"}},L.a.createElement(s["a"],null,L.a.createElement(c["a"],{span:8},L.a.createElement(l["a"],{type:"primary",onClick:function(){e.setState({visible:!0,data:{is_super_admin:"0"}})}},"\u65b0\u589e")),L.a.createElement(c["a"],{span:8,offset:8},L.a.createElement(u["a"].Search,{placeholder:"\u8bf7\u8f93\u5165\u641c\u7d22\u5173\u952e\u5b57",allowClear:!0,onSearch:function(t){e.setState({params:g()({},e.state.params,{search:t})},function(){e.fetch(e.state.params)})}})))),L.a.createElement(r["a"],{dataSource:i.getUserList.list,rowKey:function(e){return e.id},pagination:f,columns:t,loading:n,onChange:this.handleTableChange})))}}]),a}(x["Component"]))||i);t["default"]=T}}]);